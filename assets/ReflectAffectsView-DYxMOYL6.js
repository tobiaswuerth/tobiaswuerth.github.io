import{d as D,v as E,e as L,g as N,h as U,r as _,c as V,a as C,o as g,b as c,i as h,t as p,F,j as R,w as m,s as T,k as j,z,_ as q}from"./main-B7y-1w-0.js";import{s as G}from"./index-DEavHAU-.js";import{u as H}from"./useClipboard-LZnQG8je.js";const J={style:{margin:".5rem 0"}},O={style:{color:"var(--p-gray-500)"}},Q={class:"reflect-affects-inputs"},W=["for"],X={class:"affect-slider"},Y={class:"affect-value"},Z={class:"summary"},I=D({__name:"ReflectAffectsView",setup(x){const{t:a}=E(),{setTitle:w,setIcon:B,resetAppBar:K}=L(),{copyToClipboard:M}=H();N(()=>{w("reflectAffects.title"),B("pi pi-bolt")}),U(()=>{K()});const t=_(Array(7).fill(0)),o=_(Array(7).fill(0)),r=_(Array(7).fill(0)),d=V(()=>[{name:a("reflectAffects.affects.lust"),value:t.value[0],actualValue:o.value[0],lastValue:r.value[0],icon:"😍"},{name:a("reflectAffects.affects.seeking"),value:t.value[1],actualValue:o.value[1],lastValue:r.value[1],icon:"🧐"},{name:a("reflectAffects.affects.play"),value:t.value[2],actualValue:o.value[2],lastValue:r.value[2],icon:"🥳"},{name:a("reflectAffects.affects.care"),value:t.value[3],actualValue:o.value[3],lastValue:r.value[3],icon:"🤗"},{name:a("reflectAffects.affects.rage"),value:t.value[4],actualValue:o.value[4],lastValue:r.value[4],icon:"😡"},{name:a("reflectAffects.affects.fear"),value:t.value[5],actualValue:o.value[5],lastValue:r.value[5],icon:"🫣"},{name:a("reflectAffects.affects.panic"),value:t.value[6],actualValue:o.value[6],lastValue:r.value[6],icon:"😰"}]),$=V(()=>{let s=`${new Date().toLocaleDateString("de-DE")} Affects #log
`;return d.value.forEach((v,i)=>{const n=Math.round(o.value[i]/100*15),e=15-n,l="■".repeat(n)+"□".repeat(e),u=v.name.split("/")[0];s+=`
${v.icon}[${l}] ${t.value[i]}% ${u}`}),s.trim()}),P=(f,s)=>{const v=f-r.value[s],i=V(()=>{const n=a("reflectAffects.affects.lust"),e=a("reflectAffects.affects.seeking"),l=a("reflectAffects.affects.play"),u=a("reflectAffects.affects.care"),A=a("reflectAffects.affects.rage"),k=a("reflectAffects.affects.fear"),b=a("reflectAffects.affects.panic");return{[n]:{},[l]:{[e]:.29,[u]:.27},[e]:{[l]:.34,[u]:.33},[u]:{[e]:.3},[k]:{[l]:-.25,[A]:.33,[b]:.56},[A]:{},[b]:{[l]:-.33,[e]:-.26,[k]:.57,[A]:.28}}}),y=d.value[s].name;d.value.forEach((n,e)=>{if(e===s)return;const l=i.value[y]?.[n.name];if(l===void 0)return;let u=o.value[e]+l*v;u=Math.max(0,Math.min(100,u)),o.value[e]=u,t.value[e]=Math.round(u),r.value[e]=t.value[e]}),r.value[s]=f,o.value[s]=f,t.value[s]=f},S=()=>{M($.value,a("clipboard.success"),a("clipboard.affectsSuccess"))};return(f,s)=>{const v=G,i=T,y=z;return g(),C("div",null,[c("div",null,[c("p",null,p(f.$t("reflectAffects.description")),1),c("p",J,[c("small",O,p(f.$t("reflectAffects.disclaimer")),1)])]),c("div",Q,[(g(!0),C(F,null,R(d.value,(n,e)=>(g(),j(i,{key:e,class:"affect-input"},{title:m(()=>[c("label",{for:`input-${e}`},p(n.icon)+" "+p(n.name),9,W)]),content:m(()=>[c("div",X,[h(v,{id:`input-${e}`,modelValue:t.value[e],"onUpdate:modelValue":[l=>t.value[e]=l,l=>P(l,e)],min:0,max:100,step:1,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),c("small",Y,p(t.value[e])+"%",1)])]),_:2},1024))),128))]),h(i,{class:"reflect-affects-result"},{title:m(()=>[s[0]||(s[0]=c("i",{class:"pi pi-eye",style:{"margin-right":".5rem"}},null,-1)),c("span",null,p(f.$t("reflectAffects.overview")),1)]),content:m(()=>[c("div",null,[c("pre",Z,p($.value),1)])]),footer:m(()=>[h(y,{onClick:S,icon:"pi pi-copy",label:f.$t("reflectAffects.copy")},null,8,["label"])]),_:1})])}}}),le=q(I,[["__scopeId","data-v-ddda5811"]]);export{le as default};
