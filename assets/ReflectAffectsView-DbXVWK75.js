import{d as S,D as E,g as L,o as N,a as U,r as _,c as V,b as C,e as g,f as c,i as h,t as p,F,j as R,w as m,s as T,l as j,x as q,_ as z}from"./main-D7NUvrPd.js";import{s as G}from"./index-6cQyLZRM.js";import{u as H}from"./useClipboard-C8K-nsI8.js";const J={style:{margin:".5rem 0"}},O={style:{color:"var(--p-gray-500)"}},Q={class:"reflect-affects-inputs"},W=["for"],X={class:"affect-slider"},Y={class:"affect-value"},Z={class:"summary"},I=S({__name:"ReflectAffectsView",setup(x){const{t:a}=E(),{setTitle:w,setIcon:B,resetAppBar:K}=L(),{copyToClipboard:M}=H();N(()=>{w("reflectAffects.title"),B("pi pi-bolt")}),U(()=>{K()});const t=_(Array(7).fill(0)),o=_(Array(7).fill(0)),f=_(Array(7).fill(0)),d=V(()=>[{name:a("reflectAffects.affects.lust"),value:t.value[0],actualValue:o.value[0],lastValue:f.value[0],icon:"😍"},{name:a("reflectAffects.affects.seeking"),value:t.value[1],actualValue:o.value[1],lastValue:f.value[1],icon:"🧐"},{name:a("reflectAffects.affects.play"),value:t.value[2],actualValue:o.value[2],lastValue:f.value[2],icon:"🥳"},{name:a("reflectAffects.affects.care"),value:t.value[3],actualValue:o.value[3],lastValue:f.value[3],icon:"🤗"},{name:a("reflectAffects.affects.rage"),value:t.value[4],actualValue:o.value[4],lastValue:f.value[4],icon:"😡"},{name:a("reflectAffects.affects.fear"),value:t.value[5],actualValue:o.value[5],lastValue:f.value[5],icon:"🫣"},{name:a("reflectAffects.affects.panic"),value:t.value[6],actualValue:o.value[6],lastValue:f.value[6],icon:"😰"}]),$=V(()=>{let s=`${new Date().toLocaleDateString("de-DE")} Affects #log
`;return d.value.forEach((v,i)=>{const n=Math.round(o.value[i]/100*15),e=15-n,l="■".repeat(n)+"□".repeat(e),u=v.name.split("/")[0];s+=`
${v.icon}[${l}] ${t.value[i]}% ${u}`}),s.trim()}),D=(r,s)=>{const v=r-f.value[s],i=V(()=>{const n=a("reflectAffects.affects.lust"),e=a("reflectAffects.affects.seeking"),l=a("reflectAffects.affects.play"),u=a("reflectAffects.affects.care"),A=a("reflectAffects.affects.rage"),b=a("reflectAffects.affects.fear"),k=a("reflectAffects.affects.panic");return{[n]:{},[l]:{[e]:.29,[u]:.27},[e]:{[l]:.34,[u]:.33},[u]:{[e]:.3},[b]:{[l]:-.25,[A]:.33,[k]:.56},[A]:{},[k]:{[l]:-.33,[e]:-.26,[b]:.57,[A]:.28}}}),y=d.value[s].name;d.value.forEach((n,e)=>{if(e===s)return;const l=i.value[y]?.[n.name];if(l===void 0)return;let u=o.value[e]+l*v;u=Math.max(0,Math.min(100,u)),o.value[e]=u,t.value[e]=Math.round(u),f.value[e]=t.value[e]}),f.value[s]=r,o.value[s]=r,t.value[s]=r},P=()=>{M($.value,a("clipboard.success"),a("clipboard.affectsSuccess"))};return(r,s)=>{const v=G,i=T,y=q;return g(),C("div",null,[c("div",null,[c("p",null,p(r.$t("reflectAffects.description")),1),c("p",J,[c("small",O,p(r.$t("reflectAffects.disclaimer")),1)])]),c("div",Q,[(g(!0),C(F,null,R(d.value,(n,e)=>(g(),j(i,{key:e,class:"affect-input"},{title:m(()=>[c("label",{for:`input-${e}`},p(n.icon)+" "+p(n.name),9,W)]),content:m(()=>[c("div",X,[h(v,{id:`input-${e}`,modelValue:t.value[e],"onUpdate:modelValue":[l=>t.value[e]=l,l=>D(l,e)],min:0,max:100,step:1,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),c("small",Y,p(t.value[e])+"%",1)])]),_:2},1024))),128))]),h(i,{class:"reflect-affects-result"},{title:m(()=>[s[0]||(s[0]=c("i",{class:"pi pi-eye",style:{"margin-right":".5rem"}},null,-1)),c("span",null,p(r.$t("reflectAffects.overview")),1)]),content:m(()=>[c("div",null,[c("pre",Z,p($.value),1)])]),footer:m(()=>[h(y,{onClick:P,icon:"pi pi-copy",label:r.$t("reflectAffects.copy")},null,8,["label"])]),_:1})])}}}),le=z(I,[["__scopeId","data-v-ddda5811"]]);export{le as default};
