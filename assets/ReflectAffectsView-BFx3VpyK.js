import{d as D,u as E,a as L,o as N,b as U,r as A,H as V,c as _,e as g,i as c,f as h,t as i,I as T,J as j,j as $,s as F,L as H}from"./main-Cmiqh7u7.js";import{s as J}from"./index-C5YdAhEc.js";import{u as R}from"./useClipboard-ruBqiL7T.js";const q={style:{margin:".5rem 0"}},z={style:{color:"var(--p-gray-500)"}},G={class:"reflect-affects-inputs"},O=["for"],Q={class:"affect-slider"},W={class:"affect-value"},X={class:"summary"},ee=D({__name:"ReflectAffectsView",setup(Y){const{t:a}=E(),{setTitle:K,setIcon:w,reset:B}=L(),{copyToClipboard:M}=R();N(()=>{K("reflectAffects.title"),w("pi pi-bolt")}),U(()=>{B()});const t=A(Array(7).fill(0)),o=A(Array(7).fill(0)),f=A(Array(7).fill(0)),m=V(()=>[{name:a("reflectAffects.affects.lust"),value:t.value[0],actualValue:o.value[0],lastValue:f.value[0],icon:"😍"},{name:a("reflectAffects.affects.seeking"),value:t.value[1],actualValue:o.value[1],lastValue:f.value[1],icon:"🧐"},{name:a("reflectAffects.affects.play"),value:t.value[2],actualValue:o.value[2],lastValue:f.value[2],icon:"🥳"},{name:a("reflectAffects.affects.care"),value:t.value[3],actualValue:o.value[3],lastValue:f.value[3],icon:"🤗"},{name:a("reflectAffects.affects.rage"),value:t.value[4],actualValue:o.value[4],lastValue:f.value[4],icon:"😡"},{name:a("reflectAffects.affects.fear"),value:t.value[5],actualValue:o.value[5],lastValue:f.value[5],icon:"🫣"},{name:a("reflectAffects.affects.panic"),value:t.value[6],actualValue:o.value[6],lastValue:f.value[6],icon:"😰"}]),b=V(()=>{let s=`${new Date().toLocaleDateString("de-DE")} Affects #log
`;return m.value.forEach((p,v)=>{const n=Math.round(o.value[v]/100*15),e=15-n,l="■".repeat(n)+"□".repeat(e),u=p.name.split("/")[0];s+=`
${p.icon}[${l}] ${t.value[v]}% ${u}`}),s.trim()}),P=(r,s)=>{const p=r-f.value[s],v=V(()=>{const n=a("reflectAffects.affects.lust"),e=a("reflectAffects.affects.seeking"),l=a("reflectAffects.affects.play"),u=a("reflectAffects.affects.care"),y=a("reflectAffects.affects.rage"),C=a("reflectAffects.affects.fear"),k=a("reflectAffects.affects.panic");return{[n]:{},[l]:{[e]:.29,[u]:.27},[e]:{[l]:.34,[u]:.33},[u]:{[e]:.3},[C]:{[l]:-.25,[y]:.33,[k]:.56},[y]:{},[k]:{[l]:-.33,[e]:-.26,[C]:.57,[y]:.28}}}),d=m.value[s].name;m.value.forEach((n,e)=>{if(e===s)return;const l=v.value[d]?.[n.name];if(l===void 0)return;let u=o.value[e]+l*p;u=Math.max(0,Math.min(100,u)),o.value[e]=u,t.value[e]=Math.round(u),f.value[e]=t.value[e]}),f.value[s]=r,o.value[s]=r,t.value[s]=r},S=()=>{M(b.value,a("clipboard.success"),a("clipboard.affectsSuccess"))};return(r,s)=>{const p=J,v=H,d=F;return g(),_("div",null,[c("div",null,[c("p",null,i(r.$t("reflectAffects.description")),1),c("p",q,[c("small",z,i(r.$t("reflectAffects.disclaimer")),1)])]),c("div",G,[(g(!0),_(T,null,j(m.value,(n,e)=>(g(),_("div",{key:e,class:"affect-input"},[c("label",{for:`input-${e}`,class:"affect-label"},i(n.icon)+" "+i(n.name),9,O),c("div",Q,[h(p,{id:`input-${e}`,modelValue:t.value[e],"onUpdate:modelValue":[l=>t.value[e]=l,l=>P(l,e)],min:0,max:100,step:1,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),c("small",W,i(t.value[e])+"%",1)])]))),128))]),h(d,{class:"reflect-affects-result"},{title:$(()=>[s[0]||(s[0]=c("i",{class:"pi pi-eye",style:{"margin-right":".5rem"}},null,-1)),c("span",null,i(r.$t("reflectAffects.overview")),1)]),content:$(()=>[c("div",null,[c("pre",X,i(b.value),1)])]),footer:$(()=>[h(v,{onClick:S,icon:"pi pi-copy",label:r.$t("reflectAffects.copy")},null,8,["label"])]),_:1})])}}});export{ee as default};
